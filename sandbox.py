import helper_functions as SAFA

### SA ShortAnsFA
subject = "Physics"
level = "Secondary 4"
question = "Explain how the circuit breaker breaks the circuit."
suggested_answer = "(1 mark): The current flowing through the coil causes it to become an electromagnet, which exerts a [downward] / [attracting] / [pulling] force on the iron arm. \n (1 mark): The magnetic force becomes greater as the current flowing through the coil increases. \n (1 mark): When the [current increases beyond 30 A], the force becomes great enough to separate the lower contact from the upper contact, thereby breaking the circuit. "
marks = "3"
student_response = "The current flowing through the coil turns it into an electromagnet, which exerts a force on the iron arm. The force becomes great enough to separate the lower contact from the upper contact, thereby breaking the circuit."
additional_instructions = """
If the student gives responses that are similar or the same as one of the following responses, award only a total of 1 mark for the entire response:
1. The current flowing through the coil causes it to become an electromagnet, which exerts a force on the iron arm. When the current increases beyond 30 A, the force becomes great enough to separate the lower contact from the upper contact, thereby breaking the circuit. (Missing keyword: downward / attracting / pulling)
"""
response_url = "https://storage.googleapis.com/shortansfa_images/Screenshot%202025-10-03%20at%2015.32.36.png"

### Rubric ShortAnsFA
#subject = "General Paper"
#level = "Pre-U 1"
#question = "Should we always tell the truth?"
rubric = """
ID for this dimension: 21000. Dimension criteria: Content 
– 0 to 6 – 
Totally inadequate content with little or no substance. 
Very vague and confused ideas.
Question largely misinterpreted. 
Very limited relevance to question requirements. 
Very limited or no appropriate illustration used., 
– 7 to 12 – 
Restricted scope of points raised, generally pedestrian ideas. 
Some relevance but points raised may be indirect or tangential at times.
Prone to be unsubstantiated, with sweeping statements made.
Ideas are vague and/or lack sustained development; tend to digress.
Limited illustration and /or factual inaccuracy.
Insufficient focus, essay offloads everything known about a topic without adequate reference back to the keywords of the question. , 
– 13 to 15 – 
More obvious points mentioned rather than adequately developed.
Some digression, but generally sticks to question.
Does not always support major points with apt illustration.
Tendency to assert/generalise rather than argue and/or discuss in detail.
Essay may lack focus., 
– 16 to 19 – 
Competent attempt at the essay question with major points raised adequately developed.
Largely relevant to the question.
Reasonable range of examples and/or illustration to support key points.
Essay is reasonably structured. , 
– 20 to 25 – 
Highly relevant to the question requirements.
Arguments are well-focused but less perceptive and analytical than Band 1.
Major points are well developed.
Very good range of examples and/or illustration.
Logical and systematic discussion.
Essay is effectively structured. , 
– 26 to 30 – 
Comprehensive coverage of points.
Essay is entirely relevant.
Essay presents perceptive points, excellent analysis and originality of thought
Essay is thoughtful with fully appropriate and wide-ranging use of illustration used with clear links back to the point explained. Examples are original, possibly making use of recent developments. 
Coherent and engaging discussion, displaying maturity of thought.
Essay is very well structured.. 
Maximum mark for this dimension: 30. ,
ID for this dimension: 21001. Dimension criteria: Language 
– 0 to 0 – 
No response or response in the wrong language., 
– 1 to 4 – 
Plenty of errors in language use in terms of grammatical accuracy and vocabulary. 
Communication heavily impeded due to errors.
Gross errors of all kinds. 
Very limited vocabulary used., 
– 5 to 8 – 
Many errors of various types, particularly basic language errors pertaining to punctuation, tense, subject-verb agreement.
Vocabulary is simplistic or incorrectly used. 
Weak organisation of ideas with very basic or haphazard linking of paragraphs. 
Communication of meaning is not consistently done, resulting in some re-reading to deduce ideas. , 
– 9 to 12 – 
Language use is generally accurate.
Generally safe use of language pertaining to vocabulary and sentence structure, tending to be rather simple and repetitive. 
Errors of various types may be frequent, but meaning is not impeded. 
Organisation of ideas is generally clear, but introduction and conclusion ma be short. 
Linking between paragraphs may be basic or repetitive., 
– 13 to 16 – 
Very good language ability displayed with clear meaning communicated across.
Vocabulary and sentence structure varied and appropriate. 
Organisation of ideas are done effectively with appropriate introduction, conclusion and paragraph linking devices used. , 
– 17 to 20 – 
Highly accurate language use with widely varied vocabulary and sentence structures used appropriate for the task.
Ideas are very well organised with lucid paragraphing and linking devices used. 
Essay presents a confident ‘personal voice’ with assured control and range of expression throughout.
Very few slips and minor errors made. . 
Maximum mark for this dimension: 20. 
"""
#marks = "50"
#student_response = """
#Drilled into us from a young age, ‘You should always tell the truth’ is a mantra that has been undeniably omnipresent in fables and fairytales that dotted our childhood. As children, being truthful was preached as the only correct option, with promises of imminent downfall like an extended Pinocchio’s nose to those who failed to comply. Even as we age, values of honesty and integrity are continually embedded in almost every moral code out there. While truthfulness should be practiced in most situations, a more realistic approach suggests that telling the truth may not always be the most viable choice. On a personal level, telling the truth is essential for overall well-being. Maintaining a clear conscience is essential for us to go about our daily lives without being plagued by guilt or anxiety that is inevitably derived from frequent lies. Constant feelings of misalignment from having to constantly juggle our untruths can quickly take a toll on our state of mind. Findings from a psychology project conducted by the University of Notre Dam showed that individuals who actively displayed sincerity and honesty in their daily lives faced considerably less physical ailments like headaches and an overall decrease in tension and stress levels. Furthermore, displaying integrity enables the establishment of healthy relationships, which are fundamental for our well-being. Being transparent to one another facilitates mutual trust and a more comfortable environment for the sharing of thoughts and feelings. As such, being truthful lays a crucial foundation for the stable functioning of us as individuals. Furthermore, from a political perspective, telling the truth enhances the credibility of leaders and candidates for positions of power. More often than not, political campaigns are rife with questions of truthfulness and lying. Many politicians pepper their speeches with tall claims and unsubstantiated promises in an attempt to portray themselves in the most ideal image possible. With the proliferation of social media rapidly uncovering problematic pasts of candidates previously stashed away from the eyes of the public, it is to no surprise that there has been a gravitation towards leaders that display high levels of integrity. This is evidently illustrated by the rise to success of Jacinda Arden, the youngest ever Prime Minister of New Zealand. Her party’s campaign outreach took a decidedly different approach from former party leaders- Arden established a unique connection to voters by communicating with people in an open and honest way, unlike that of a traditional politician. She engaged with voters on social media platforms, and proposed realistic national policies in a transparent manner. Her pragmatic approach and authenticity hence successfully convinced voters to believe in her vision for the country. Thus, it is essential for political candidates to maintain high levels of trustworthiness to maintain their credibility. Political leaders with honesty embedded as a core value are viewed by the general populous as more suitable candidates for leading a nation. However, we should not paint all situations with the same brush- such a claim is verly optimistic and cannot be applied to all situations. In some cases, not telling the truth is arguably justifiable. Being dishonest may sometimes be the more socially acceptable response when dealing with others in a respectable manner. White lies, for instance, are innocuous and serve as a preferable alternative to offensive remarks that could be deemed as impolite. Untruthfulness in such situations are considered as prosocial lies and have been scientifically proven to build a sense of benevolence between people. Lying out of consideration for another person’s feelings is a key part of maintaining harmonious relationships, as harsh truths can often do more harm than good. Hence, lies that do not carry malicious or self-serving intent can be justifiable if used from a standpoint of displaying empathy and compassion towards other individuals. As said by behavioural science professor Emma E. Levine, ‘People care about whether you have good intentions a lot more than whether the person is being honest per se.’ Moreover, when viewed from a societal standpoint, withholding the truth can be warranted if it is done in the interests of public welfare and security. Governmental bodies may disclose incomplete information or selectively reveal facts to citizens at calculated junctures as a means of protecting the larger community’s well-being, as obliged by their social contract. For instance, in the initial stages of the COVID-19 pandemic, the Chinese authorities did not reveal full details regarding the severity of the freshly spreading virus in Wuhan despite criticism from international media outlets. Such actions were intentional so as to prevent excessive public alarm in Wuhan. Immediately alerting locals would have caused a wildfire spread of COVID-19 to neighbouring regions as locals would likely flee back to their provinces out of fear. By momentarily withholding the full truth, authorities had more time to assess the situation and take necessary measures like mobilising the police to curb the spread of the virus as much as possible. Hence, in crises or similar precarious situations, it may be more viable for the truth to be withheld for the greater good and safety of society. In conclusion, it still generally rings true that the truth will almost always ‘set us free’. Speaking truths is essential for the improvement and progress of society as a whole. However, it is unreasonable to assume this of all situations- varying circumstances may sometimes suggest otherwise. Thus, ultimately, regardless of truth or untruth, underlying intentions still carry the most weight and always should be considered.
#"""
#additional_instructions = """"""

#print("Split Prompt Results")
#for i in range(3):
    #user_prompt = SAFA.assemble_SA_prompt(subject, level, question, suggested_answer, marks, additional_instructions, student_response)
    #response = SAFA.evaluate_SA(user_prompt)
    #awarded_marks, general_feedback = SAFA.extract_SA_feedback_and_marks(response)
    #SAFA.display_feedback_and_marks(awarded_marks, general_feedback)

print(" ")
print("Standard Prompt Results")
for e in range(3):
    user_prompt_part_1 = SAFA.assemble_SA_prompt_split_all_part1(subject, level)
    user_prompt_part_3 = SAFA.assemble_SA_prompt_split_all_part3(level, marks, additional_instructions)
    response = SAFA.evaluate_SA_split_all(user_prompt_part_1, question, suggested_answer, user_prompt_part_3, student_response)
    #print(response)
    awarded_standard_marks, general_standard_feedback = SAFA.extract_feedback_and_marks(response)
    SAFA.display_feedback_and_marks(awarded_standard_marks, general_standard_feedback)

#print("Rubric Prompt Results")
#for i in range(1):
    #user_prompt = SAFA.assemble_Rubric_prompt(subject, level, question, rubric, marks, additional_instructions, student_response)
    #print(user_prompt)
    #response = SAFA.evaluate_Rubric(user_prompt)
    #print(response)
    #awarded_marks, general_feedback = SAFA.extract_Rubric_feedback_and_marks(response)
    #SAFA.display_feedback_and_marks(awarded_marks, general_feedback)
